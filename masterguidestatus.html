<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Club Event Calendar</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Inter", Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f9f9f9;
        color: #333;
      }

      header {
        background: linear-gradient(135deg, #3f51b5, #2196f3);
        color: white;
        padding: 2rem;
        text-align: center;
      }

      header h1 {
        margin: 0;
        font-size: 2rem;
      }
      /* Dropdown container */
      .dropdown {
        position: relative;
      }

      /* Hidden submenu by default */
      .dropdown-content {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #ffffff;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 0.5rem 0;
        list-style: none;
        min-width: 220px;
        z-index: 1000;
      }

      /* Show dropdown on hover */
      .dropdown:hover .dropdown-content {
        display: block;
      }

      /* Style for dropdown items */
      .dropdown-content li a {
        display: block;
        padding: 8px 16px;
        color: #004080;
        text-decoration: none;
        white-space: nowrap;
      }

      .dropdown-content li a:hover {
        background-color: #e6f0ff;
      }

      nav {
        background-color: #ffffff;
        padding: 1rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .nav-menu {
        list-style: none;
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin: 0;
        padding: 0;
      }

      .nav-menu a {
        text-decoration: none;
        color: #004080;
        font-weight: bold;
        font-family: "Inter", sans-serif;
        padding: 6px 12px;
        border-radius: 4px;
        transition: background-color 0.3s ease;
        border: 1px solid transparent;
      }

      .nav-menu a:hover {
        background-color: #e6f0ff;
        border-color: #004080;
      }

      .nav-menu a.active {
        background-color: #004080;
        color: white;
        border-color: #003366;
      }

      main {
        padding: 2rem;
        display: flex;
        justify-content: center;
      }

      .form-container {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        max-width: 700px;
        width: 100%;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      label {
        display: block;
        margin: 1rem 0 0.5rem;
      }

      .inline-checkbox-label {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin: 1rem 0;
        justify-content: flex-start;
        text-align: left;
      }
      .checkbox-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 1rem;
      }
      .checkbox-group input[type="checkbox"] {
        margin: 0;
      }

      input,
      select,
      textarea {
        padding: 0.5rem;
        margin-top: 0.25rem;
        border-radius: 6px;
        border: 1px solid #ccc;
        width: 100%;
      }

      button {
        margin-top: 1rem;
        padding: 0.5rem 1rem;
        background-color: #3f51b5;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
      }

      button:hover {
        background-color: #303f9f;
      }
      .training-entry {
        display: flex;
        gap: 1rem; /* space between columns */
        align-items: flex-start; /* align labels nicely */
      }
      .training-entry label {
        flex: 1; /* each label/input pair takes equal space */
        display: flex;
        flex-direction: column;
      }

      #eventModal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }

      .modal-content {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        width: 320px;
      }

      ul#eventsList {
        margin-top: 1rem;
      }

      #clubDisplay {
        font-weight: bold;
        margin-top: 0.5rem;
      }
      h2 {
        font-size: 1.5rem;
        color: #3f51b5;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Club Event Calendar</h1>
    </header>
    <nav>
      <ul class="nav-menu">
        <li class="dropdown">
          <a href="#">Club Forms</a>
          <ul class="dropdown-content">
            <li>
              <a href="clubregistration.html">Club Registration</a>
            </li>
            <li><a href="clubstafflist.html">Staff List</a></li>
            <li></li>
            <li>
              <a href="staffVolunteerForm.pdf">Staff Volunteer Form (PDF)</a>
            </li>
            <li>
              <a href="clubMemberRegistrationForm.pdf"
                >Club Member Registration (PDF)</a
              >
            </li>

            <li><a href="clubcalendar.html">Club Calendar</a></li>
          </ul>
        </li>
        <li><a href="clubreports.html">Monthly Club Reports</a></li>
        <li>
          <a href="youthSummitRegistration.html">Youth Summit Registration</a>
        </li>
        <li>
          <a href="masterguidestatus.html" class="active"
            >Master Guide Registration</a
          >
        </li>
        <li>
          <a href="clubcalendar.html">Club Calendar</a>
        </li>
      </ul>
    </nav>
    <main>
      <div class="form-container">
        <form
          id="mgForm"
          method="post"
          action="https://script.google.com/macros/s/AKfycbw-4WYqH76J4tMqQzAgXg4UqvPX_OO_pN2tjzVX76oSiGrGWmFpWYXwlQ-XvYmfkHM-/exec"
        >
          <label>Name: <input type="text" name="name" required /></label>
          <label>Address: <input type="text" name="address" /></label>
          <label>City: <input type="text" name="city" /></label>
          <label>Phone Number: <input type="text" name="phone" /></label>
          <label>Email: <input type="email" name="email" /></label>

          <label for="certificationType">Certification Type:</label>
          <select name="certificationType" id="certificationType" required>
            <option value="">-- Select Certification --</option>
            <option value="Adventurer">Adventurer</option>
            <option value="Pathfinder">Pathfinder</option>
            <option value="Both">Both</option></select
          ><br /><br />

          <fieldset>
            <legend>Status and Invested Information</legend>

            <div
              class="training-entry"
              id="status-container"
              style="display: none; margin-top: 10px"
            >
              <legend>
                <label for="status">Status:</label>
                <select name="status" id="status" required></select>
              </legend>
            </div>
            <!-- Invested Info Group -->
            <div id="invested-fields" style="display: none; margin-top: 10px">
              <!-- Row 1 -->
              <div style="display: flex; gap: 10px; margin-bottom: 10px">
                <label for="dateInvested"
                  >Date Invested:
                  <input type="date" name="dateInvested" id="dateInvested" />
                </label>

                <label for="locationInvested"
                  >Location Invested:
                  <input
                    type="text"
                    name="locationInvested"
                    id="locationInvested"
                  />
                </label>
              </div>

              <!-- Row 2 -->
              <div style="display: flex; gap: 10px">
                <label for="provinceInvested"
                  >Province Invested:
                  <input
                    type="text"
                    name="provinceInvested"
                    id="provinceInvested"
                  />
                </label>

                <label for="countryInvested"
                  >Country Invested:
                  <input
                    type="text"
                    name="countryInvested"
                    id="countryInvested"
                  />
                </label>
              </div>
            </div>
          </fieldset>
          <br />
          <fieldset>
            <legend>Do you have Other Certifications?</legend>

            <div class="training-entry">
              <label>
                Basic Staff Training Date:
                <input type="date" name="basicStaffDate" />
              </label>
              <label>
                Location:
                <input
                  type="text"
                  name="basicStaffLocation"
                  placeholder="Location"
                />
              </label>
            </div>
            <div class="training-entry">
              <label>
                Directors Training Date:
                <input type="date" name="directorsDate" />
              </label>
              <label>
                Location:
                <input
                  type="text"
                  name="directorsLocation"
                  placeholder="Location"
                />
              </label>
            </div>
            <div class="training-entry">
              <label>
                Instructors Training Date:
                <input type="date" name="instructorsDate" />
              </label>
              <label>
                Location:
                <input
                  type="text"
                  name="instructorsLocation"
                  placeholder="Location"
                />
              </label>
            </div>
            <div class="training-entry">
              <label>
                Counsellors Training Date:
                <input type="date" name="counsellorDate" />
              </label>
              <label>
                Location:
                <input
                  type="text"
                  name="counsellorLocation"
                  placeholder="Location"
                />
              </label>
            </div>

            <div class="training-entry">
              <label>
                Treasurers/Secretarys Training Date:
                <input type="date" name="treasurersDate" />
              </label>
              <label>
                Location:
                <input
                  type="text"
                  name="treasurersLocation"
                  placeholder="Location"
                />
              </label>
            </div>
          </fieldset>

          <button type="submit">Submit</button>
        </form>
      </div>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const certSelect = document.getElementById("certificationType");
        const statusSelect = document.getElementById("status");
        const statusContainer = document.getElementById("status-container");
        const investedFields = document.getElementById("invested-fields");

        const statusOptions = {
          Adventurer: [
            "Requesting Information",
            "Pathfinder Registration",
            "Invested",
            "Currently a MG in Training",
            "Out of Province/Country Invested",
          ],
          Pathfinder: [
            "Requesting Information",
            "Pathfinder Registration",
            "Invested",
            "Currently a MG in Training",
            "Out of Province/Country Invested",
          ],
          Both: [
            "Requesting Information",
            "Adventurer and Pathfinder Registration",
            "Invested",
            "Currently a MG in Training",
            "Out of Province/Country Invested",
          ],
        };

        function populateStatusOptions(selectedCert) {
          const options = statusOptions[selectedCert] || [];

          // Clear previous options
          statusSelect.innerHTML = "";

          if (options.length > 0) {
            statusContainer.style.display = "block";
            options.forEach((status) => {
              const option = document.createElement("option");
              option.value = status;
              option.textContent = status;
              statusSelect.appendChild(option);
            });
          } else {
            statusContainer.style.display = "none";
            investedFields.style.display = "none"; // also hide invested fields
          }
        }

        function toggleInvestedFields() {
          const selectedStatus = statusSelect.value;
          if (
            selectedStatus === "Invested" ||
            selectedStatus === "Out of Province/Country Invested"
          ) {
            investedFields.style.display = "block";
          } else {
            investedFields.style.display = "none";
          }
        }

        // When certification changes, populate statuses & reset invested fields
        certSelect.addEventListener("change", () => {
          populateStatusOptions(certSelect.value);
          investedFields.style.display = "none";
        });

        // When status changes, toggle invested fields visibility
        statusSelect.addEventListener("change", toggleInvestedFields);

        // Initial setup - hide status and invested fields
        statusContainer.style.display = "none";
        investedFields.style.display = "none";
      });
    </script>
  </body>
</html>
